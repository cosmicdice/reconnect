#{extends 'app.html' /}
#{set title:'Admin' /}

<div class="row">
  <div class="span12 admin">
    <h2>Utilisateurs</h2>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Nom d'utilisateur</th>
          <th>Email</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        #{list items:users, as:'user'}
        <tr>
          <td>${user.name}</td>
          <td><a href="@{Users.show(user.username)}">${user.username}</a></td>
          <td>${user.email}</td>
          <td><a href="@{Admin.edit(user.id)}"><i class="icon-edit"></i> Editer</a> - <a href="@{Admin.delete(user.id)}" onclick="if (!window.confirm('Etes-vous sûr ? Cette action est définitive.')) return false;"><i class="icon-remove-sign"></i> Supprimer</a></td>
        </tr>
        #{/list}
      </tbody>
    </table>
    <h2>Groupes</h2>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Description</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        #{list items:groups, as:'group'}
        <tr>
          <td>${group.name}</td>
          <td>${group.desc}</td>
          <td><a href="@{Admin.editGroup(group.id)}"><i class="icon-edit"></i> Editer</a> - <a href="@{Admin.deleteGroup(group.id)}" onclick="if (!window.confirm('Etes-vous sûr ? Cette action est définitive.')) return false;"><i class="icon-remove-sign"></i> Supprimer</a></td>
        </tr>
        #{/list}
      </tbody>
    </table>
  </div>
</div>
